
proc createArray5
	mov r1,8
    mul r2,r1,r0
    add r2,r2,r1
    call mem,r2
    st r0,r2
    mov r0,r2
    ret
proc arrayLength5
	ld r0,r0
    ret
proc out_of_bount7
	ld r2,r0          # size of array
    cmp< r2,r2,r1     # index < size := 1
    jnz  r2,ofb_out   # its ok  
    call exit,r0
ofb_out:
    ret
proc getInt9
	call iget,r0
    ret
proc printInt11
	call iputi,r0
    ret
proc printc11
	call iputc,r0
    ret
proc printString11
	mov r2,1
    mov r3,8
    ld r1,r0           # size of str
nexch:
    cmp>= r2,r1,r2     # n >= (r2=1)
    jz r2,out          # r2 == 0 jump to end
    mov r0,r0,r3       # next cell
    call printChar,r0  # print ch
    sub r1,r1,r2       # n--;
out:
    ret
proc exit13
	jmp _exit:
    ret
proc fib17
	mov r2,2
	cmp< r3,r0,r2
	mov r4,r3
	jz r4,L1
	mov r5,0
	mov r6,r5
	mov r7,1
	mov r8,8
	add r6,r6,r7
	mul r8,r8,r6
	add r8,r8,r1
	mov r9,1
	st r9,r8
	mov r10,r9
	mov r11,1
	mov r12,r11
	mov r13,1
	mov r14,8
	add r12,r12,r13
	mul r14,r14,r12
	add r14,r14,r1
	mov r15,1
	st r15,r14
	mov r16,r15
	mov r17,1
	mov r18,r17
	mov r0,r18
	jmp L0
	jmp L2
L1:
	mov r21,1
	sub r22,r0,r21
	mov r23,r22
	mov r24,r1
	mov r25,r23
	mov r26,r24
	call fib17,r25,r26
	mov r27,2
	sub r28,r0,r27
	mov r29,r28
	mov r30,r1
	mov r31,r29
	mov r32,r30
	call fib17,r31,r32
	add r33,r25,r31
	mov r19,r33
	mov r34,r33
	mov r35,r0
	mov r36,1
	mov r37,8
	add r35,r35,r36
	mul r37,r37,r35
	add r37,r37,r1
	st r19,r37
	mov r38,r19
	mov r39,r19
	mov r0,r39
	jmp L0
L2:
L0:
	ret

proc printArray3
	mov r3,r0
	mov r4,r3
	call arrayLength5,r4
	mov r1,r4
	mov r5,r4
	mov r7,91
	mov r8,r7
	mov r9,r8
	call printc11,r9
	mov r10,r9
	mov r11,r0
	mov r14,1
	mov r17,8
	mov r15,r11
	ld r15,r15
	mov r16,r11
L4:
	cmp>= r13,r15,r14
	jz r13,L5
	sub r15,r15,r14
	add r16,r16,r17
	ld r12,r16
	mov r19,r12
	mov r20,r19
	call printInt11,r20
	mov r21,r20
	mov r22,1
	sub r23,r1,r22
	mov r1,r23
	mov r24,r23
	mov r25,1
	mov r26,0
	mov r27,r26
	mov r28,44
	mov r29,r28
	mov r30,r29
	call printc11,r30
	mov r31,r30
	jz r25,L6
	mov r32,27
	jmp L7
L6:
	mov r32,31
L7:
	mov r33,r32
	jmp L4
L5:
	mov r34,93
	mov r35,r34
	mov r36,r35
	call printc11,r36
	mov r37,r36
	mov r38,0
	mov r39,r38
	mov r0,r39
	jmp L3
L3:
	ret

proc main
	mov r0,102
	mov r1,r0
	mov r2,r1
	call printc11,r2
	mov r3,r2
	mov r4,105
	mov r5,r4
	mov r6,r5
	call printc11,r6
	mov r7,r6
	mov r8,98
	mov r9,r8
	mov r10,r9
	call printc11,r10
	mov r11,r10
	mov r12,58
	mov r13,r12
	mov r14,r13
	call printc11,r14
	mov r15,r14
	call getInt9,r17
	mov r16,r17
	mov r18,r17
	mov r21,r16
	mov r22,r21
	call createArray5,r22
	mov r19,r22
	mov r23,r22
	mov r24,r16
	mov r25,r19
	mov r26,r24
	mov r27,r25
	call fib17,r26,r27
	mov r16,r26
	mov r28,r26
	mov r30,r19
	mov r31,r30
	call printArray3,r31
	mov r32,r31
	mov r33,0
	mov r34,r33
	mov r0,r34
	jmp L8
L8:
	ret
